# Distributed under the MIT License.
# See LICENSE.txt for details.

# Executable: EvolveGeneralizedHarmonic
# Check: parse;execute
# Timeout: 8
# ExpectedOutput:
#   GhGaugeWaveReductionData.h5
#   GhGaugeWaveVolumeData0.h5

Evolution:
  InitialTime: 0.0
  InitialTimeStep: 0.01
  TimeStepper:
    AdamsBashforthN:
      Order: 1

DomainCreator:
  Brick:
    LowerBound: [-2.0, -2.0, -2.0]
    UpperBound: [2.0, 2.0, 2.0]
    InitialRefinement: [0, 0, 0]
    InitialGridPoints: [5, 5, 5]
    IsPeriodicIn: [true, true, true]

AnalyticSolution:
  GaugeWave:
    Amplitude: 0.01
    Wavelength: 1.0

EvolutionSystem:
  GeneralizedHarmonic:
    Gauge:
      RollOnStartTime: 100000.0
      RollOnTimeWindow: 100.0
      SpatialDecayWidth: 50.0

NumericalFlux:
  UpwindFlux:

EventsAndTriggers:
  ? EveryNSlabs:
      N: 2
      Offset: 0
  : - ObserveErrorNorms
  ? EveryNSlabs:
      N: 5
      Offset: 0
  : - ObserveFields
  ? EveryNSlabs:
      N: 5
      Offset: 2
  : - Completion

Observers:
  VolumeFileName: "GhGaugeWaveVolumeData"
  ReductionFileName: "GhGaugeWaveReductionData"
